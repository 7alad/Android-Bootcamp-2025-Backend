# Android-Bootcamp-2025-Backend
## Команда: Пантюшсланцы

Разработать программный продукт для помощи в осуществлении волонтерской деятельности в клиент-серверной архитектуре.

Клиент - Android Приложение, реализованное на java или kotlin с адаптивной версткой.
Мобильное приложение должно предоставлять удобный и интуитивно понятный интерфейс для волонтеров, в котором можно зарегистрироваться в базу волонтеров, просмотреть ближайшие волонтерские центры, отредактировать собственный профиль и посмотреть активных волонтеров в конкретном центре. В случае авторизации с правами администратора, пользователь приложения должен иметь возможность просмотреть список не занятых волонтеров и их контактные данные.

Сервер - микросервис на Spring Boot, работающий с In-memory базой данных H2.
Серверное приложение должно предоставлять API необходимый для работы мобильного приложения. Осуществлять все основные манипуляции с данными в СУБД при помощи Spring Data JPA. Данные о всех зарегистрированных волонтерских центрах должны быть предзаполнены в БД при запуске приложения.Создание схемы БД и предзаполнение данными необходимо реализовать с использованием liquibase.

## User Stories

### Регистрация и аутентификация
- **Как пользователь**, я хочу зарегистрироваться в базе волонтеров, чтобы быть доступным для участия в волонтерской деятельности и получать уведомления о подходящих возможностях.
- **Как пользователь**, я хочу авторизироваться в базе волонтеров, чтобы получать доступ к своему аккаунту.
### Просмотр ближайших центров
- **Как пользователь**, я хочу иметь возможность просмотреть ближайшие волонтерские центры с указанием их местоположения и маршрутов, чтобы легко найти и добраться до них.
### Профиль
- **Как пользователь**, я хочу иметь возможность просматривать и редактировать свой профиль, чтобы актуализировать свои контактные данные или обновить информацию о своих навыках и предпочтениях.
### Списки волонтеров
- **Как пользователь**, я хочу просматривать список активных волонтеров в конкретном центре с их контактной информацией, чтобы знать, кто работает со мной, и иметь возможность связаться с ними для уточнения вопросов.
- **Как администратор**, я хочу видеть список свободных от работы волонтеров с их контактной информацией, чтобы оперативно предложить им подходящие задачи и связаться с ними при необходимости.
### Удаление волонтеров
- **Как администратор**, я хочу иметь возможность удалять волонтеров из системы, если они вышли из организации.
## Use Cases

1. **Цель**: Регистрация пользователя
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись пользователя еще не создана
    - **Основной поток**: Ввод email и пароля. Отправка запроса на сервер.Создание аккаунта. Переход на главный экран
    - **Альтернативный поток**: Ошибка на сервере. Отображение сообщения об ошибке
2. **Цель**: Аутентификация пользователя
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись создана
    - **Основной поток**: Ввод email и пароля. Отправка запроса на сервер.Вход в аккаунт. Переход на главный экран
    - **Альтернативный поток**: Ошибка на сервере или неправильно введенные данные. Отображение сообщения об ошибке
3. **Цель**: Просмотр ближайших волонтерских центров
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись пользователя создана
    - **Основной поток**: Запрос местоположения пользователя. Отправка запроса на сервер.Вывод списка ближайших волонтерских центров
    - **Альтернативный поток**: Пользователь не предоставил местоположения или произошла ошибка на сервере. Отображение сообщения об ошибке
4. **Цель**: Просмотр профиля пользователя
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись пользователя создана
    - **Основной поток**: Переход в профиль. Отправка запроса на сервер. Получение данных пользователя. Отображение данных пользователя в профиле
    - **Альтернативный поток**: Ошибка на сервере. Отображение сообщения об ошибке.
5. **Цель**: Редактирование профиля пользователя
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись пользователя создана
    - **Основной поток**: Переход в раздел редактирования профиля. Внесение изменений в контактные данные или информацию о навыках и предпочтениях. Отправление запроса на сервер для сохранения изменений. Переход на экран подтверждения успешного обновления профиля.
    - **Альтернативный поток**: Пользователь не предоставил данные или предоставил их в неправильном формате. Отображение сообщения об ошибке.
6. **Цель**: Просмотр списка активных волонтеров в центре
    - **Участники:** Волонтеры
    - **Предусловия**: Учетная запись пользователя создана
    - **Основной поток**:  Переход в раздел волонтерских центров. Отправка запроса на сервер. Вывод списка волонтеров с их контактной информацией
    - **Альтернативный поток**: Ошибка на сервере. Отображение сообщения об ошибке.
7. **Цель**: Просмотр списка не занятых волонтеров
    - **Участники:** Администратор
    - **Предусловия**: Учетная запись пользователя создана и имеет роль администратора
    - **Основной поток**: Переход в раздел со свободными волонтерами. Отправка запроса на сервер. Вывод списка волонтеров с их контактной информацией.
    - **Альтернативный поток**: Ошибка на сервере. Отображение сообщения об ошибке.
8. **Цель**: Удаление волонтера из системы
    - **Участники:** Администратор
    - **Предусловия**: Учетная запись пользователя создана и имеет роль администратора
    - **Основной поток**: Переход на страницу волонтера. Нажатие на кнопку удаление. Отправка запроса на сервер. Удаление пользователя
    - **Альтернативный поток**: Ошибка на сервере. Отображение сообщения об ошибке.
9. **Цель**: Автозаполнение БД с помощью Liquibase
    - **Участники:** Приложение, разработчик
    - **Предусловия**: Приложение запускается первый раз
    - **Основной поток**: Запуск приложение. Заполнение БД с помощью скрипта миграции
    - **Альтернативный поток**: Ошибка в скрипте миграции. Отображение сообщения об ошибке.
10. **Цель**: Взаимодействие с сервером через API
    - **Участники:** Мобильное приложение
    - **Предусловия**: Приложение установлено и запущено
    - **Основной поток**: Запуск приложения. Получение данных с сервера.
    - **Альтернативный поток**: Ошибка на сервере или пользователь не вошел в профиль. Отображение сообщения об ошибке.


## Задачи для Backend разработчика
### Регистрация пользователя
- [ ] Создать API эндпоинт для регистрации:
    > POST /api/volunteers/register
- [ ] Реализовать добавление пользователя в БД, включая:
    - [ ] Валидацию введенных данных (email, пароль).
    - [ ] Хэширование пароля перед сохранением (например, с использованием bcrypt).
- [ ] Настроить обработку ошибок:
    - [ ] Уже существующий email.
    - [ ] Невалидные данные.
    - [ ] Ошибки сервера.
### Аутентификация пользователя
- [ ] Создать API эндпоинт для аутентификации:
  > POST /api/volunteers/login
- [ ] Реализовать Basic HTTP аутентификацию
- [ ] Обработать ошибки:
    - Неверный email или пароль.
    - Ошибки сервера.
### Список ближайших волонтерских центров
- [ ] Добавить таблицу в БД для хранения данных о волонтерских центрах (название, адрес, координаты).
- [ ] Создать API эндпоинт для получения списка ближайших центров:
  > GET /api/centers
- [ ] Реализовать логику:
- [ ] Обработать ошибки:
    - [ ] Пользователь не предоставил местоположение.
    - [ ] Ошибки сервера.
### Просмотр профиля пользователя
- [ ] Создать API эндпоинт для получения информации о текущем пользователе:
  > GET /api/volunteers/profile
- [ ] Настроить извлечение данных профиля из БД, включая:
    - Имя.
    - Контактные данные.
    - Навыки и предпочтения.
- [ ] Реализовать защиту данных:
    - [ ] Доступ только авторизованным пользователям.
### Редактирования профиля пользователя
- [ ] Создать API эндпоинт для получения информации о текущем пользователе:
  > PUT /api/volunteers/profile
- [ ] Настроить изменение данных пользователя в БД
### Список волонтеров в центре
- [ ] Добавить таблицы в БД для связи волонтеров с центрами.
- [ ] Создать API эндпоинт для получения списка волонтеров конкретного центра:
  > GET /api/centers/{centerId}/volunteers
- [ ] Реализовать:
    - [ ] Получение данных о волонтерах центра (имя, контактные данные, роль).
- [ ] Обработать ошибки:
    - [ ] Центр не найден.
    - [ ] Ошибки сервера.
### Удаление пользователя (только для администратора)
- [ ] Создать API эндпоинт для удаления пользователя:
  > DELETE /api/users/{id}
- [ ] Реализовать проверку прав администратора перед удалением.
- [ ] Обработать ошибки:
    - [ ] Пользователь не найден.
    - [ ] Недостаточно прав для выполнения операции.
### Список незанятых волонтеров (для администраторов)
- [ ] Добавить статус активности волонтеров в таблицу в БД.
- [ ] Создать API эндпоинт для получения списка незанятых волонтеров:
  > GET /api/volunteers/free
- [ ] Реализовать проверку прав администратора перед выдачей данных.
- [ ] Обработать ошибки:
    - [ ] Пользователь не является администратором.
    - [ ] Ошибки сервера.

