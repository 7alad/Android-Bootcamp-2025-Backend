# Android-Bootcamp-2025-Backend

Разработать программный продукт для помощи в осуществлении волонтерской деятельности в клиент-серверной архитектуре.

Клиент - Android Приложение, реализованное на java или kotlin с адаптивной версткой.
Мобильное приложение должно предоставлять удобный и интуитивно понятный интерфейс для волонтеров, в котором можно зарегистрироваться в базу волонтеров, просмотреть ближайшие волонтерские центры, отредактировать собственный профиль и посмотреть активных волонтеров в конкретном центре. В случае авторизации с правами администратора, пользователь приложения должен иметь возможность просмотреть список не занятых волонтеров и их контактные данные.

Сервер - микросервис на Spring Boot, работающий с In-memory базой данных H2.
Серверное приложение должно предоставлять API необходимый для работы мобильного приложения. Осуществлять все основные манипуляции с данными в СУБД при помощи Spring Data JPA. Данные о всех зарегистрированных волонтерских центрах должны быть предзаполнены в БД при запуске приложения.Создание схемы БД и предзаполнение данными необходимо реализовать с использованием liquibase.

## Команда: Androck

### Use Stories:

#### Регистрация / Авторизация:

- Как новый пользователь, я хочу зарегистрироваться в систему, чтобы стать активным волонтером
- Как волонтер, я хочу сразу попадать в свой профиль, если я уже заходил на данном устройстве, чтобы не вводить данные каждый раз

#### Взаимодействие с центрами:

- Как волонтер, я хочу посмотреть ближайшие волонтерские центры, чтобы узнать о них информацию

- Как волонтер, я хочу регестрировать себя в волонтёрском центре, чтобы со мной могли связаться через него

#### Взаимодействие с волонтерами:

- Как волонтер, я хочу посмотреть активных волонтеров в конкретном центре, чтобы узнать о них информацию и связаться с ними

- Как администратор, я хочу посмотреть список незанятых волонтеров, чтобы связаться с ними

#### Пользователь

- Как пользователь, я хочу отредактировать свой профиль, для отображения актуальных данных

- Как пользователь, я хочу чтобы мои данные были в безопасности, чтобы к моему профилю не мог получить доступ никто посторонний

- Как пользователь, я хочу пользоваться приложением с интуитивно понятным интерфейсом, чтобы ускорить свою работу





### Use Cases:

#### Регистрация пользователя в волонтерские центры

**Участники:** волонтер
**Предусловия:** Пользователь зарегистрирован в систему
**Основной поток:**  кнопка записаться -> сервер регестрирует пользователя в центр
**Альтернативный поток:** Пользователь вводит неверные данные и сервер выдаёт ошибку

####  Посмотреть ближайшие волонтерские центры

**Участник:** волонтер или Администратор
**Предусловия:** есть геолокация пользователя, 
**Основной поток:** отображение карты с отмеченными центрами; геолокации
**Альтернативный поток:** Запрос разрешения на отслеживание геолокации

#### Посмотреть активных волонтеров в конкретном центре

**Участник:** волонтер
**Предусловия:** в центре есть активные волонтеры
**Основной поток:** отображение списка активных волонтеров 
**Альтернативный поток:** отображение сообщения о том что в данном центре нет волонтёров

##### Отредактировать свой профиль

**Участник:** волонтер
**Предусловия:** пользователь вошёл в систему
**Основной поток:** отображение профиля с возможность редактировать поля, изменить данные, сохранить
**Альтернативный поток:** корректность данных, пустота дынных,

#### Посмотреть список незанятых волонтеров

**Участник:** Администратор
**Предусловия:** есть права администратора и пользователь вошёл в сиситему с правами администратора 
**Основной поток:** отображение  списка незанятых волонтеров и их контактные данные
**Альтернативный поток:** отказ

#### Автозаполнение данных

**Участник:** Разработчик
**Предусловия:** первый раз запускается сервер
**Основной поток:** запуск сервера, синхронизация данных
**Альтернативный поток:** -

#### Регистрация пользователя в систему

**Участник:** Незарегистрированный пользователь
**Предусловия:** Установленное приложение
**Основной поток:** регистрация пользователя в сервере (базе данных) и сохранения аккаунта на устройстве
**Альтернативный поток:** ошибка регистрации



### Backend задачи:

#### Регистрация пользователя

- End-point: /api/register/{id} (POST)
1. Проверка уникальность и корректность данных:
  	1. Уникальность email
2. Если проверка пройдена:
  - Сохранить данные
3. Иначе:
  - Вернуть ошибку

#### Вход пользователя

- End-point: /api/login/{id}
1. Проверка на наличие учетной записи:
  	1. Верный email
  	2. Верный пароль

2. Если проверка пройдена:
  - Сохранить данные
3. Иначе:
  - Вернуть ошибку

#### Управление профилем

- End-point: api//users/info/{id}

- Если это загрузка, то просто даём данные профиля - GET

- Если это редактирование, то принимаем данные с полями, идёт изменение данных и их проверка на валидность - POST

  

 ##### Для GET запроса:

1. Проверка на наличие учетной записи и данных в ней:

  - email
  - id

2. Если проверка пройдена:

  - Сохранить данные

3. Иначе:

  - Вернуть ошибку

##### Для POST запроса:

1. Проверка учетной записи(верный id и пароль):
2. Если проверка пройдена:
  - Проверка уникальность и корректность измененных данных
  - Внести измененные данные в базу данных, если проверка пройдена, иначе, вернуть ошибку
3. Иначе:
  - Вернуть ошибку

#### Просмотр ближайших волонтерских центров:

- End-point: api/volunteer/all (GET)
1. Проверка наличия геолокации
2. Если проверка пройдена:
  - Вернуть список активных волонтеров
3. Иначе:
  - Вернуть ошибку

#### Просмотр незанятых волонтеров

- End-point: api/volunteer/unoccupied(GET)
1. Проверка наличия прав администратора
2. Если проверка пройдена:
  - Вернуть список незанятых волонтеров
3. Иначе:
  - Вернуть ошибку